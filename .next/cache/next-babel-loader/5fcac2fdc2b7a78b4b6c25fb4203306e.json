{"ast":null,"code":"import React, { useContext } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { DataContext } from '../store/GlobalState';\nimport Cookie from 'js-cookie';\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction NavBar() {\n  var router = useRouter();\n  var _useContext = useContext(DataContext),\n    state = _useContext.state,\n    dispatch = _useContext.dispatch;\n  var auth = state.auth,\n    cart = state.cart;\n  var isActive = function isActive(r) {\n    if (r === router.pathname) {\n      return \" active\";\n    } else {\n      return \"\";\n    }\n  };\n  var handleLogout = function handleLogout() {\n    Cookie.remove('refreshtoken', {\n      path: 'api/auth/accessToken'\n    });\n    localStorage.removeItem('firstLogin');\n    dispatch({\n      type: 'AUTH',\n      payload: {}\n    });\n    dispatch({\n      type: 'NOTIFY',\n      payload: {\n        success: 'Logged out!'\n      }\n    });\n    return router.push('/');\n  };\n  var adminRouter = function adminRouter() {\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Link, {\n        href: \"/users\",\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"dropdown-item\",\n          children: \"Users\"\n        })\n      }), /*#__PURE__*/_jsx(Link, {\n        href: \"/create\",\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"dropdown-item\",\n          children: \"Products\"\n        })\n      }), /*#__PURE__*/_jsx(Link, {\n        href: \"/categories\",\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"dropdown-item\",\n          children: \"Categories\"\n        })\n      })]\n    });\n  };\n  var loggedRouter = function loggedRouter() {\n    return /*#__PURE__*/_jsxs(\"li\", {\n      className: \"nav-item dropdown\",\n      children: [/*#__PURE__*/_jsxs(\"a\", {\n        className: \"nav-link dropdown-toggle\",\n        href: \"#\",\n        id: \"navbarDropdownMenuLink\",\n        \"data-toggle\": \"dropdown\",\n        \"aria-haspopup\": \"true\",\n        \"aria-expanded\": \"false\",\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          src: auth.user.avatar,\n          alt: auth.user.avatar,\n          style: {\n            borderRadius: '50%',\n            width: '30px',\n            height: '30px',\n            transform: 'translateY(-3px)',\n            marginRight: '3px'\n          }\n        }), \" \", auth.user.name]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"dropdown-menu\",\n        \"aria-labelledby\": \"navbarDropdownMenuLink\",\n        children: [/*#__PURE__*/_jsx(Link, {\n          legacyBehavior: true,\n          href: \"/profile\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: \"dropdown-item\",\n            children: \"Profile\"\n          })\n        }), auth.user.role === 'admin' && adminRouter(), /*#__PURE__*/_jsx(\"div\", {\n          className: \"dropdown-divider\"\n        }), /*#__PURE__*/_jsx(\"button\", {\n          className: \"dropdown-item\",\n          onClick: handleLogout,\n          children: \"Logout\"\n        })]\n      })]\n    });\n  };\n  return /*#__PURE__*/_jsxs(\"nav\", {\n    className: \"navbar navbar-expand-lg navbar-light bg-light\",\n    children: [/*#__PURE__*/_jsx(Link, {\n      href: \"/\",\n      style: {\n        textDecoration: 'none'\n      },\n      children: /*#__PURE__*/_jsx(\"a\", {\n        style: {\n          display: 'inline-block',\n          padding: '10px 20px',\n          backgroundColor: '#006400',\n          /* Dark green background color */\n          color: 'white',\n          borderRadius: '5px',\n          textAlign: 'center',\n          transition: 'background-color 0.3s ease'\n        },\n        children: \"Go back to shopping!\"\n      })\n    }), /*#__PURE__*/_jsx(\"button\", {\n      className: \"navbar-toggler\",\n      type: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-target\": \"#navbarNavDropdown\",\n      \"aria-controls\": \"navbarNavDropdown\",\n      \"aria-expanded\": \"false\",\n      \"aria-label\": \"Toggle navigation\",\n      children: /*#__PURE__*/_jsx(\"span\", {\n        className: \"navbar-toggler-icon\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"collapse navbar-collapse justify-content-end\",\n      id: \"navbarNavDropdown\",\n      children: /*#__PURE__*/_jsxs(\"ul\", {\n        className: \"navbar-nav p-1\",\n        children: [/*#__PURE__*/_jsx(\"li\", {\n          className: \"nav-item\",\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/cart\",\n            children: /*#__PURE__*/_jsxs(\"a\", {\n              className: \"nav-link\" + isActive('/cart'),\n              children: [/*#__PURE__*/_jsx(\"i\", {\n                className: \"fas fa-shopping-cart position-relative\",\n                \"aria-hidden\": \"true\",\n                children: /*#__PURE__*/_jsx(\"span\", {\n                  className: \"position-absolute\",\n                  style: {\n                    padding: '3px 6px',\n                    background: '#ed143dc2',\n                    borderRadius: '50%',\n                    top: '-10px',\n                    right: '-10px',\n                    color: 'white',\n                    fontSize: '14px'\n                  },\n                  children: cart.length\n                })\n              }), \" Cart\"]\n            })\n          })\n        }), Object.keys(auth).length === 0 ? /*#__PURE__*/_jsx(\"li\", {\n          className: \"nav-item\",\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/signin\",\n            children: /*#__PURE__*/_jsxs(\"a\", {\n              className: \"nav-link\" + isActive('/signin'),\n              children: [/*#__PURE__*/_jsx(\"i\", {\n                className: \"fas fa-user\",\n                \"aria-hidden\": \"true\"\n              }), \" Sign in\"]\n            })\n          })\n        }) : loggedRouter()]\n      })\n    })]\n  });\n}\nexport default NavBar;","map":null,"metadata":{},"sourceType":"module"}