{"ast":null,"code":"import Link from 'next/link';\nimport { useContext } from 'react';\nimport { DataContext } from '../../store/GlobalState';\nimport { addToCart } from '../../store/Actions';\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst ProductItem = ({\n  product,\n  handleCheck\n}) => {\n  const {\n    state,\n    dispatch\n  } = useContext(DataContext);\n  const {\n    cart,\n    auth\n  } = state;\n  const userLink = () => {\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Link, {\n        href: `product/${product._id}`,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"btn btn-info\",\n          style: {\n            marginRight: '5px',\n            flex: 1\n          },\n          children: \"View\"\n        })\n      }), /*#__PURE__*/_jsx(\"button\", {\n        className: \"btn btn-success\",\n        style: {\n          marginLeft: '5px',\n          flex: 1\n        },\n        disabled: product.inStock === 0 ? true : false,\n        onClick: () => dispatch(addToCart(product, cart)),\n        children: \"Buy\"\n      })]\n    });\n  };\n  const adminLink = () => {\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Link, {\n        href: `create/${product._id}`,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"btn btn-info\",\n          style: {\n            marginRight: '5px',\n            flex: 1\n          },\n          children: \"Edit\"\n        })\n      }), /*#__PURE__*/_jsx(\"button\", {\n        className: \"btn btn-danger\",\n        style: {\n          marginLeft: '5px',\n          flex: 1\n        },\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#exampleModal\",\n        onClick: () => dispatch({\n          type: 'ADD_MODAL',\n          payload: [{\n            data: '',\n            id: product._id,\n            title: product.title,\n            type: 'DELETE_PRODUCT'\n          }]\n        }),\n        children: \"Delete\"\n      })]\n    });\n  };\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"card\",\n    style: {\n      width: '18rem'\n    },\n    children: [auth.user && auth.user.role === 'admin' && /*#__PURE__*/_jsx(\"input\", {\n      type: \"checkbox\",\n      checked: product.checked,\n      className: \"position-absolute\",\n      style: {\n        height: '20px',\n        width: '20px'\n      },\n      onChange: () => handleCheck(product._id)\n    }), /*#__PURE__*/_jsx(\"img\", {\n      className: \"card-img-top\",\n      src: product.images[0].url,\n      alt: product.images[0].url\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"card-body\",\n      children: [/*#__PURE__*/_jsx(\"h5\", {\n        className: \"card-title text-capitalize\",\n        title: product.title,\n        children: product.title\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"row justify-content-between mx-0\",\n        children: [/*#__PURE__*/_jsxs(\"h6\", {\n          className: \"text-danger\",\n          children: [\"$\", product.price]\n        }), product.inStock > 0 ? /*#__PURE__*/_jsxs(\"h6\", {\n          className: \"text-danger\",\n          children: [\"In Stock: \", product.inStock]\n        }) : /*#__PURE__*/_jsx(\"h6\", {\n          className: \"text-danger\",\n          children: \"Out Stock\"\n        })]\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: \"card-text\",\n        title: product.description,\n        children: product.description\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"row justify-content-between mx-0\",\n        children: !auth.user || auth.user.role !== \"admin\" ? userLink() : adminLink()\n      })]\n    })]\n  });\n};\nexport default ProductItem;","map":null,"metadata":{},"sourceType":"module"}