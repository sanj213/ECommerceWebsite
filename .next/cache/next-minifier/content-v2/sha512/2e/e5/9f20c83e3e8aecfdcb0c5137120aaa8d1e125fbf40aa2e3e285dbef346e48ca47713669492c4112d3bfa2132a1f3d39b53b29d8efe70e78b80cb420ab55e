{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{0:function(e,t,n){n(\"GcxT\"),e.exports=n(\"nOHt\")},\"1TCz\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"rePB\"),a=(n(\"zPlV\"),n(\"q1tI\")),o=n(\"YFqc\"),c=n.n(o),i=n(\"nOHt\"),s=n(\"qG/y\"),l=n(\"p46w\"),d=n.n(l),u=n(\"nKUr\");var p=function(){var e=Object(i.useRouter)(),t=Object(a.useContext)(s.a),n=t.state,r=t.dispatch,o=n.auth,l=n.cart,p=function(t){return t===e.pathname?\" active\":\"\"},f=function(){return d.a.remove(\"refreshtoken\",{path:\"api/auth/accessToken\"}),localStorage.removeItem(\"firstLogin\"),r({type:\"AUTH\",payload:{}}),r({type:\"NOTIFY\",payload:{success:\"Logged out!\"}}),e.push(\"/\")};return Object(u.jsxs)(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:[Object(u.jsx)(c.a,{href:\"/\",style:{textDecoration:\"none\"},children:Object(u.jsx)(\"a\",{style:{display:\"inline-block\",padding:\"10px 20px\",backgroundColor:\"#006400\",color:\"white\",borderRadius:\"5px\",textAlign:\"center\",transition:\"background-color 0.3s ease\"},children:\"Go back to shopping!\"})}),Object(u.jsx)(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNavDropdown\",\"aria-controls\":\"navbarNavDropdown\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:Object(u.jsx)(\"span\",{className:\"navbar-toggler-icon\"})}),Object(u.jsx)(\"div\",{className:\"collapse navbar-collapse justify-content-end\",id:\"navbarNavDropdown\",children:Object(u.jsxs)(\"ul\",{className:\"navbar-nav p-1\",children:[Object(u.jsx)(\"li\",{className:\"nav-item\",children:Object(u.jsx)(c.a,{href:\"/cart\",children:Object(u.jsxs)(\"a\",{className:\"nav-link\"+p(\"/cart\"),children:[Object(u.jsx)(\"i\",{className:\"fas fa-shopping-cart position-relative\",\"aria-hidden\":\"true\",children:Object(u.jsx)(\"span\",{className:\"position-absolute\",style:{padding:\"3px 6px\",background:\"#ed143dc2\",borderRadius:\"50%\",top:\"-10px\",right:\"-10px\",color:\"white\",fontSize:\"14px\"},children:l.length})}),\" Cart\"]})})}),0===Object.keys(o).length?Object(u.jsx)(\"li\",{className:\"nav-item\",children:Object(u.jsx)(c.a,{href:\"/signin\",children:Object(u.jsxs)(\"a\",{className:\"nav-link\"+p(\"/signin\"),children:[Object(u.jsx)(\"i\",{className:\"fas fa-user\",\"aria-hidden\":\"true\"}),\" Sign in\"]})})}):Object(u.jsxs)(\"li\",{className:\"nav-item dropdown\",children:[Object(u.jsxs)(\"a\",{className:\"nav-link dropdown-toggle\",href:\"#\",id:\"navbarDropdownMenuLink\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:[Object(u.jsx)(\"img\",{src:o.user.avatar,alt:o.user.avatar,style:{borderRadius:\"50%\",width:\"30px\",height:\"30px\",transform:\"translateY(-3px)\",marginRight:\"3px\"}}),\" \",o.user.name]}),Object(u.jsxs)(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdownMenuLink\",children:[Object(u.jsx)(c.a,{legacyBehavior:!0,href:\"/profile\",children:Object(u.jsx)(\"a\",{className:\"dropdown-item\",children:\"Profile\"})}),\"admin\"===o.user.role&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(c.a,{href:\"/users\",children:Object(u.jsx)(\"a\",{className:\"dropdown-item\",children:\"Users\"})}),Object(u.jsx)(c.a,{href:\"/create\",children:Object(u.jsx)(\"a\",{className:\"dropdown-item\",children:\"Products\"})}),Object(u.jsx)(c.a,{href:\"/categories\",children:Object(u.jsx)(\"a\",{className:\"dropdown-item\",children:\"Categories\"})})]}),Object(u.jsx)(\"div\",{className:\"dropdown-divider\"}),Object(u.jsx)(\"button\",{className:\"dropdown-item\",onClick:f,children:\"Logout\"})]})]})]})})]})},f=function(){return Object(u.jsx)(\"div\",{className:\"position-fixed w-100 h-100 text-center loading\",style:{background:\"#0008\",color:\"white\",top:0,left:0,zIndex:9},children:Object(u.jsxs)(\"svg\",{width:\"205\",height:\"250\",viewBox:\"0 0 40 50\",children:[Object(u.jsx)(\"polygon\",{strokeWidth:\"1\",stroke:\"#fff\",fill:\"none\",points:\"20,1 40,40 1,40\"}),Object(u.jsx)(\"text\",{fill:\"#fff\",x:\"5\",y:\"47\",children:\"Loading\"})]})})},b=function(e){var t=e.msg,n=e.handleShow,r=e.bgColor;return Object(u.jsxs)(\"div\",{className:\"toast show position-fixed text-light \".concat(r),style:{top:\"5px\",right:\"5px\",zIndex:9,minWidth:\"280px\"},children:[Object(u.jsxs)(\"div\",{className:\"toast-header \".concat(r,\" text-light\"),children:[Object(u.jsx)(\"strong\",{className:\"mr-auto text-light\",children:t.title}),Object(u.jsx)(\"button\",{type:\"button\",className:\"ml-2 mb-1 close text-light\",\"data-dismiss\":\"toast\",style:{outline:\"none\"},onClick:n,children:\"x\"})]}),Object(u.jsx)(\"div\",{className:\"toast-body\",children:t.msg})]})},h=function(){var e=Object(a.useContext)(s.a),t=e.state,n=e.dispatch,r=t.notify;return Object(u.jsxs)(u.Fragment,{children:[r.loading&&Object(u.jsx)(f,{}),r.error&&Object(u.jsx)(b,{msg:{msg:r.error,title:\"Error\"},handleShow:function(){return n({type:\"NOTIFY\",payload:{}})},bgColor:\"bg-danger\"}),r.success&&Object(u.jsx)(b,{msg:{msg:r.success,title:\"Success\"},handleShow:function(){return n({type:\"NOTIFY\",payload:{}})},bgColor:\"bg-success\"})]})},j=n(\"WtUO\"),m=n(\"EFaQ\");function g(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=function(){var e=Object(a.useContext)(s.a),t=e.state,n=e.dispatch,r=t.modal,o=t.auth,c=Object(i.useRouter)(),l=function(e){n(Object(j.d)(e.data,e.id,e.type)),Object(m.a)(\"user/\".concat(e.id),o.token).then((function(e){return e.err?n({type:\"NOTIFY\",payload:{error:e.err}}):n({type:\"NOTIFY\",payload:{success:e.msg}})}))},d=function(e){Object(m.a)(\"categories/\".concat(e.id),o.token).then((function(t){return t.err?n({type:\"NOTIFY\",payload:{error:t.err}}):(n(Object(j.d)(e.data,e.id,e.type)),n({type:\"NOTIFY\",payload:{success:t.msg}}))}))},p=function(e){n({type:\"NOTIFY\",payload:{loading:!0}}),Object(m.a)(\"product/\".concat(e.id),o.token).then((function(e){return e.err?n({type:\"NOTIFY\",payload:{error:e.err}}):(n({type:\"NOTIFY\",payload:{success:e.msg}}),c.push(\"/\"))}))};return Object(u.jsx)(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:Object(u.jsx)(\"div\",{className:\"modal-dialog\",role:\"document\",children:Object(u.jsxs)(\"div\",{className:\"modal-content\",children:[Object(u.jsxs)(\"div\",{className:\"modal-header\",children:[Object(u.jsx)(\"h5\",{className:\"modal-title text-capitalize\",id:\"exampleModalLabel\",children:0!==r.length&&r[0].title}),Object(u.jsx)(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:Object(u.jsx)(\"span\",{\"aria-hidden\":\"true\",children:\"\\xd7\"})})]}),Object(u.jsx)(\"div\",{className:\"modal-body\",children:\"Do you want to delete this item?\"}),Object(u.jsxs)(\"div\",{className:\"modal-footer\",children:[Object(u.jsx)(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-dismiss\":\"modal\",onClick:function(){if(0!==r.length){var e,t=g(r);try{for(t.s();!(e=t.n()).done;){var a=e.value;\"ADD_CART\"===a.type&&n(Object(j.d)(a.data,a.id,a.type)),\"ADD_USERS\"===a.type&&l(a),\"ADD_CATEGORIES\"===a.type&&d(a),\"DELETE_PRODUCT\"===a.type&&p(a),n({type:\"ADD_MODAL\",payload:[]})}}catch(o){t.e(o)}finally{t.f()}}},children:\"Yes\"}),Object(u.jsx)(\"button\",{type:\"button\",className:\"btn btn-primary\",\"data-dismiss\":\"modal\",children:\"Cancel\"})]})]})})})};var v=function(e){var t=e.children;return Object(u.jsxs)(\"div\",{className:\"container\",children:[Object(u.jsx)(p,{}),Object(u.jsx)(h,{}),Object(u.jsx)(O,{}),t]})};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.Component,n=e.pageProps;return Object(u.jsx)(s.b,{children:Object(u.jsx)(v,{children:Object(u.jsx)(t,w({},n))})})}},GcxT:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/_app\",function(){return n(\"1TCz\")}])},YFqc:function(e,t,n){e.exports=n(\"cTJO\")},cTJO:function(e,t,n){\"use strict\";var r=n(\"J4zp\"),a=n(\"284h\");t.__esModule=!0,t.default=void 0;var o,c=a(n(\"q1tI\")),i=n(\"elyg\"),s=n(\"nOHt\"),l=new Map,d=window.IntersectionObserver,u={};var p=function(e,t){var n=o||(d?o=new d((function(e){e.forEach((function(e){if(l.has(e.target)){var t=l.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(o.unobserve(e.target),l.delete(e.target),t())}}))}),{rootMargin:\"200px\"}):void 0);return n?(n.observe(e),l.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}l.delete(e)}):function(){}};function f(e,t,n,r){(0,i.isLocalURL)(t)&&(e.prefetch(t,n,r).catch((function(e){0})),u[t+\"%\"+n]=!0)}var b=function(e){var t=!1!==e.prefetch,n=(0,s.useRouter)(),a=n&&n.pathname||\"/\",o=c.default.useMemo((function(){var t=(0,i.resolveHref)(a,e.href,!0),n=r(t,2),o=n[0],c=n[1];return{href:o,as:e.as?(0,i.resolveHref)(a,e.as):c||o}}),[a,e.href,e.as]),l=o.href,b=o.as,h=e.children,j=e.replace,m=e.shallow,g=e.scroll,x=e.locale;\"string\"===typeof h&&(h=c.default.createElement(\"a\",null,h));var O=c.Children.only(h),v=O&&\"object\"===typeof O&&O.ref,y=c.default.useRef(),w={ref:c.default.useCallback((function(e){(y.current&&(y.current(),y.current=void 0),t&&d&&e&&e.tagName&&(0,i.isLocalURL)(l))&&(u[l+\"%\"+b]||(y.current=p(e,(function(){f(n,l,b,{locale:\"undefined\"!==typeof x?x:n&&n.locale})}))));v&&(\"function\"===typeof v?v(e):\"object\"===typeof v&&(v.current=e))}),[t,v,l,b,n,x]),onClick:function(e){O.props&&\"function\"===typeof O.props.onClick&&O.props.onClick(e),e.defaultPrevented||function(e,t,n,r,a,o,c,s){(\"A\"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&\"_self\"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,i.isLocalURL)(n))&&(e.preventDefault(),null==c&&(c=r.indexOf(\"#\")<0),t[a?\"replace\":\"push\"](n,r,{shallow:o,locale:s}).then((function(e){e&&c&&(window.scrollTo(0,0),document.body.focus())})))}(e,n,l,b,j,m,g,x)}};return t&&(w.onMouseEnter=function(e){(0,i.isLocalURL)(l)&&(O.props&&\"function\"===typeof O.props.onMouseEnter&&O.props.onMouseEnter(e),f(n,l,b,{priority:!0}))}),(e.passHref||\"a\"===O.type&&!(\"href\"in O.props))&&(w.href=(0,i.addBasePath)((0,i.addLocale)(b,\"undefined\"!==typeof x?x:n&&n.locale,n&&n.defaultLocale))),c.default.cloneElement(O,w)};t.default=b},p46w:function(e,t,n){var r,a;!function(o){if(void 0===(a=\"function\"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=a),!0,e.exports=o(),!!0){var c=window.Cookies,i=window.Cookies=o();i.noConflict=function(){return window.Cookies=c,i}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function a(){}function o(t,n,o){if(\"undefined\"!==typeof document){\"number\"===typeof(o=e({path:\"/\"},a.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():\"\";try{var c=JSON.stringify(n);/^[\\{\\[]/.test(c)&&(n=c)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\\(\\)]/g,escape);var i=\"\";for(var s in o)o[s]&&(i+=\"; \"+s,!0!==o[s]&&(i+=\"=\"+o[s].split(\";\")[0]));return document.cookie=t+\"=\"+n+i}}function c(e,n){if(\"undefined\"!==typeof document){for(var a={},o=document.cookie?document.cookie.split(\"; \"):[],c=0;c<o.length;c++){var i=o[c].split(\"=\"),s=i.slice(1).join(\"=\");n||'\"'!==s.charAt(0)||(s=s.slice(1,-1));try{var l=t(i[0]);if(s=(r.read||r)(s,l)||t(s),n)try{s=JSON.parse(s)}catch(d){}if(a[l]=s,e===l)break}catch(d){}}return e?a[e]:a}}return a.set=o,a.get=function(e){return c(e,!1)},a.getJSON=function(e){return c(e,!0)},a.remove=function(t,n){o(t,\"\",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))}))},zPlV:function(e,t,n){}},[[0,0,1,2,3]]]);","extractedComments":[]}